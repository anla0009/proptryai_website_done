---
import Button from "./Button.astro";
import headerLogo from "../assets/images/header_logo.webp";
---
<!-- HEADER WRAPPER -->
<header 
  class="w-full bg-[#187770] text-white font-[Encode_Sans]"
  x-data="{ openCustomers: false }"
>
  <div class="max-w-7xl mx-auto flex items-center py-4 px-6">

    <!-- LOGO (left) -->
    <a href="/" class="flex items-center">
      <div class="w-16 h-16 bg-[#FFFBE6] rounded-md flex items-center justify-center">
        <img src="header_logo.webp" alt="proprty.ai logo" class="w-16 h-16 rounded-md object-contain" />
      </div>
    </a>

    <!-- RIGHT GROUP: NAV + CTA -->
    <div class="ml-auto flex items-center gap-6">
      
      <!-- MAKE NAV RELATIVE SO DROPDOWN CAN POSITION -->
      <nav class="relative md:flex items-center gap-6 text-lg font-medium">

        <a href="/product" class="hover:opacity-80 transition-opacity">
          Product
        </a>

        <!-- CUSTOMERS DROPDOWN TOGGLE (Alpine-only) -->
        <button
          @click="openCustomers = !openCustomers"
          class="hover:opacity-80 transition-opacity flex items-center gap-1"
          :aria-expanded="openCustomers.toString()"
          aria-controls="customers-menu"
        >
          Customers
          <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" 
                  d="M19 9l-7 7-7-7" />
          </svg>
        </button>

        <!-- DROPDOWN MENU (Alpine transitions) -->
        <div
          id="customers-menu"
          x-show="openCustomers"
          @click.outside="openCustomers = false"
          x-transition:enter="transition ease-out duration-200"
          x-transition:enter-start="opacity-0 -translate-y-2"
          x-transition:enter-end="opacity-100 translate-y-0"
          x-transition:leave="transition ease-in duration-150"
          x-transition:leave-start="opacity-100 translate-y-0"
          x-transition:leave-end="opacity-0 -translate-y-2"
          class="absolute top-10 left-0 bg-[#FFFBE6] text-[#187770] shadow-lg rounded-md 
                 py-2 w-52 z-50 hidden"
          x-bind:class="{ 'block': openCustomers, 'hidden': !openCustomers }"
        >
          <a href="/Propertyowners" class="block px-4 py-2 hover:bg-gray-100">
            Property Owners
          </a>
          <a href="/Investors" class="block px-4 py-2 hover:bg-gray-100">
            Investors
          </a>
          <a href="/International" class="block px-4 py-2 hover:bg-gray-100">
            International Clients
          </a>
        </div>

      </nav>

      <div>
        <Button text="Try demo" href="/demo" size="lg" />
      </div>

    </div>
  </div>
</header>
